import fs from 'fs/promises'

const es5LibPath = 'node_modules/typescript/lib/lib.es5.d.ts'

const es5Lib = await fs.readFile(es5LibPath, { encoding: 'utf-8' })
const es5LibString = JSON.stringify(es5Lib)

fs.writeFile(
  'server/lib/typescript-lib.ts',
  `// Do not edit directly. This file was generated by \`yarn copy-typescript-lib\`.

export const es5Lib =
  ${es5LibString}`
)
